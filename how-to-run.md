### Как пользоваться репозиторием
Для удобства работы над проектом используются инструменты из **Node.js** и **npm**. Все необходимые настройки произведены. Убедитесь, что на рабочем компьютере установлены **Node.js** и **Docker**, соответствующие актуальной версии. Актуальная версия **Node.js** указана в файле `package.json` в поле `node`. Актуальная версия **Docker** указана в файле `docker-compose.yml` 

## Backend

 В корневой папке каждого микросервиса есть файл `project.json`, в котором описан ряд стандартных команд:
- *build* - создать билд проекта, скомпиллировать ts в js;
- *serve* - запустить созданный билд; 
- *lint* - запустить проверку линтером (для указанного микросервиса), для всех файлов с расширением ts;
- *test* - запустить тесты (jest) для указанного микросервиса.

Запуск приложения: 

Переходим в рабочую зону:

```bash
cd ./project/backend
```

Установка зависимостей:

```bash
npm install
```

Запуск микросервисов (Не забудьте перед запуском добавить файл .env для каждого микросервиса):

**nx run <имя_микросервиса>:<команда>**
Пример:

```bash
nx run users:serve
```

Для микросервиса **trainings** также доступны дополнительные команды используемые на этапе разработки, для выпонения операций с БД:
- *db:lint* - проверка схемы;
- *db:migrate* - запуск миграции;
- *db:reset* - удаление и очистка БД;
- *db:generate* - генерация Prisma Client;
- *db:seed* - заполнение БД данными.

Пример:

```bash
nx run training:db:reset
```

### Работа с Докером

Для хранения данных микросервисы используют БД - MongoDB и PostgreSQL.
Базы данных создаём в контейнерах Докера на основе готовых образов.
Вся необходимая для этого конфигурация, описана в файлах docker-compose.yml.

1) Перед работой с Докером, предварительно переходим в директорию с файлом docker-compose.yml:

```bash
cd project/backend/<директория с микросервисом>
```

2) Для создания контейнеров с БД, согласно конфигурации описанной в docker-compose.yml выполняем следующую команду:

```bash
docker-compose up -d
```
Либо: в директории backend ввести команду **docker compose --file ./apps/<директория с микросервисом>/docker-compose.dev.yml --project-name "<Имя сервиса>" up -d**

Пример: 

```bash
docker compose --file ./apps/users/docker-compose.dev.yml --project-name "fitfriends-users" up -d
```

3) Для удаления докер-контейнеров с БД выпоняем следующую команду:

```bash
docker-compose down
```

## Frontend

Переходим в директорию

```bash
cd ./project/frontend
```

Устанавливаем зависимости и после этого выполняем:

```bash
npm start
```
